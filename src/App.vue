
<template>
  <!-- state -->
  <h1>Father</h1>
  <p>å§“åï¼š{{ name }}</p>
  <p>å¹´é¾„ï¼š{{ age }}</p>
  <p>æ€§åˆ«ï¼š{{ sex }}</p>
  <!-- gettter -->
  <button @click="changeName">æ›´æ”¹å§“å</button>
  <button @click="patchStore">æ‰¹é‡ä¿®æ”¹æ•°æ®</button>
  <p>æ–°å¹´é¾„ï¼š{{ store.getAddAge(35) }}</p>
  <p>è°ƒç”¨å…¶å®ƒgetterï¼š{{ store.getNameAndAge }}</p>
  <button @click="saveName">è°ƒç”¨aciton</button>
  <Child></Child>

</template>

<script setup lang="ts">
import { ref } from 'vue';
import { useUserStore } from './store/user';
import Child from './child.vue';
import { storeToRefs } from 'pinia';
const store = useUserStore()
// const name = ref<string>(store.name)
// const age = ref<number>(store.age)
// const sex = ref<string>(store.sex)
  // const {name, age, sex} = store // ä¸€æ¬¡å¯¼å‡º
const {name, age, sex} = storeToRefs(store) // å°†æ•°æ®ä¿®æ”¹è½¬æ¢ä¸ºå“åº”å¼

// æ›´æ”¹å§“å
const changeName = function() {
  store.name = 'zhangsan'
}

// æ‰¹é‡ä¿®æ”¹æ•°æ®
const patchStore = function() {
  store.$patch({
    name: "zhangsan",
    age: 100,
    sex: 'å¥³'
  })
}

// è°ƒç”¨ action
const saveName = function() {
  store.saveName('ğŸ˜ŠğŸ˜Š')
}
</script>


<style scoped>
</style>
